<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASINCRONICA CALLBACKS</title>
</head>
<body>
    <script>
        function sumar(a,b,callback)
        {
            let rta;
            setTimeout(()=>{

                try {

                    if(typeof a !== "number" || typeof b !== "number" || typeof callback !== "function")
                    {
                        throw Error("Parametros invalidos para la suma");
                    }
                        rta = a+b;
                        console.log("La suma es:"+rta);

                        callback(rta);
                } catch (error) {
                    console.error(error.message);
                }
            },3000);
            
        }

        function restar (a,b,callback){
            let rta;
            setTimeout(()=>{
                try {

                        if(typeof a !== "number" || typeof b !== "number" || typeof callback !== "function")
                        {
                            throw Error("Parametros invalidos para la resta");
                        }
                            rta = a-b;
                            console.log("La resta es:"+rta);

                            callback(rta);
                        } catch (error) {
                        console.error(error.message);
                        }
            },1000);
        }

        function multiplicar(a,b,callback)
        {
            let rta;
            setTimeout(()=>{
                try {

                    if(typeof a !== "number" || typeof b !== "number" || typeof callback !== "function")
                    {
                        throw Error("Parametros invalidos para el producto");
                    }
                        rta = a*b;
                        console.log("La multiplicacion es:"+rta);

                        callback(rta);
                    } catch (error) {
                    console.error(error.message);
                    }
            },1000);
        }

        function cuadrado(a,callback)
        {
            let rta;
            setTimeout(()=>{
                try {

                    if(typeof a !== "number" || typeof callback !== "function")
                    {
                        throw Error("Parametros invalidos para el cuadrado");
                    }
                        rta = a*a;
                        console.log("La suma es:"+rta);

                        callback(rta);
                    } catch (error) {
                    console.error(error.message);
                    }
            },3000);
        }

        function informar(resultado)
        {
            console.log("El resultado es:" + resultado);
        }

        //sumar 8 y 5, al resultado calcular el cuadrado,
        // al cuadrado multiplicarlo por 10 y al resultado restarle 4
        // informar por consola el resultado
        console.log("inicio");
        sumar(8,5,(suma)=>{
            cuadrado(suma,(cuad)=>{
                multiplicar(cuad,10,(multi)=>{
                    restar(multi,40,(resto)=>{
                        informar(resto);
                    });
                });
            });
        });



        // let variableCuadrado = cuadrado(suma);
        // let multiplicacion = multiplicar(variableCuadrado,10);
        // let resta = restar(multiplicacion,4);
        // informar(resta);


         //informar(restar(multiplicar(cuadrado(sumar(5,8)),10),4));
         console.log("fin");

    </script>
</body>
</html>